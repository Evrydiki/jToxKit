!function(){jToxKit={version:"2.0.0"},function(n,t){n.Consumption=function(n){t.extend(!0,this,n),this.consumers={},this.manager=null},n.Consumption.prototype={__expects:["translateResponse"],init:function(e){t.pass(this,n.Consumption,"init"),this.manager=e,t.each(this.consumers,function(n){t.act(n,n.init,e)})},parseResponse:function(e,s){t.pass(this,n.Consumption,"parseResponse");var o=this.translateResponse(e,s),i=this.manager;t.each(this.consumers,function(n){t.act(n,n.afterTranslation,o,s,i)})},addConsumers:function(n,t){if("string"!=typeof t)throw{name:"Binding error",message:"Attempt to add consumer with non-string id: "+t};return this.consumers[t]=n,this},removeConsumer:function(n){return delete this.consumers[n],this},removeManyConsumers:function(n){if("function"!=typeof n)throw{name:"Enumeration error",message:"Attempt to enumerate consumers with non-function 'selector': "+n};var e=this;return t.each(this.consumers,function(t,s){n(t,s,e)&&delete e.consumers[s]}),this},enumerateConsumers:function(n,e){if("function"!=typeof n)throw{name:"Enumeration error",message:"Attempt to enumerate consumers with non-function 'selector': "+n};return t.each(this.consumers,function(t,s){n.call(t,t,s,e)}),this},getConsumer:function(n){return this.consumers[n]}}}(jToxKit,asSys),function(n,t){n.RawSolrTranslation=function(n){t.extend(!0,this,n),this.manager=null},n.RawSolrTranslation.prototype={init:function(e){t.pass(this,n.RawSolrTranslation,"init"),this.manager=e},translateResponse:function(n,e){var s=n.response.docs;return t.each(s,function(e){var s=n.expanded[e.s_uuid];t.each(e,function(n,e){Array.isArray(n)&&t.each(s.docs,function(t){n.push.apply(n,t[e])})})}),{entries:s,stats:t.extend({},n.facet_counts,n.stats,n.responseHeader),paging:{start:n.response.start,count:n.response.docs.length,total:n.response.numFound,pageSize:parseInt(n.responseHeader.params.rows)}}}}}(jToxKit,asSys),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=jToxKit:(this.jToxKit=jToxKit,"function"==typeof define&&define.amd&&define(jToxKit))}();
