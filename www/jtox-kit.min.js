!function(){var n={version:"2.0.0"};!function(n,e){n.Consumption=function(n){e.extend(!0,this,n),this.consumers={},this.manager=null},n.Consumption.prototype={__expects:["translateResponse"],init:function(t){e.pass(this,n.Consumption,"init"),this.manager=t,e.each(this.consumers,function(n){e.act(n,n.init,t)})},parseResponse:function(t,s){e.pass(this,n.Consumption,"parseResponse");var o=this.translateResponse(t,s),r=this.manager;e.each(this.consumers,function(n){e.act(n,n.afterTranslation,o,s,r)})},addConsumers:function(n,e){if("string"!=typeof e)throw{name:"Binding error",message:"Attempt to add consumer with non-string id: "+e};return this.consumers[e]=n,this},removeConsumer:function(n){return delete this.consumers[n],this},removeManyConsumers:function(n){if("function"!=typeof n)throw{name:"Enumeration error",message:"Attempt to enumerate consumers with non-function 'selector': "+n};var t=this;return e.each(this.consumers,function(e,s){n(e,s,t)&&delete t.consumers[s]}),this},enumerateConsumers:function(n,t){if("function"!=typeof n)throw{name:"Enumeration error",message:"Attempt to enumerate consumers with non-function 'selector': "+n};return e.each(this.consumers,function(e,s){n.call(e,e,s,t)}),this},getConsumer:function(n){return this.consumers[n]}}}(n,asSys),function(n,e){n.RawSolrTranslation=function(n){e.extend(!0,this,n),this.manager=null},n.RawSolrTranslation.prototype={init:function(t){e.pass(this,n.RawSolrTranslation,"init"),this.manager=t},translateResponse:function(n,t){for(var s=n.response.docs,o=0,r=s.length;o<r;++o)for(var i=s[o],a=n.expanded[i.s_uuid],u=0,c=a.docs.length;u<c;++u){var m=a.docs[u];e.each(m,function(n,e){Array.isArray(i[e])?Array.prototype.push.apply(i[e],Array.isArray(n)?n:[n]):null==i[e]&&(i[e]=[null].concat(n))})}return{entries:s,stats:e.extend({},n.stats,n.responseHeader),facets:n.facet_counts,paging:{start:n.response.start,count:n.response.docs.length,total:n.response.numFound,pageSize:parseInt(n.responseHeader.params.rows)}}}}}(n,asSys),"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=n:(this.jToxKit=a$.extend({},this.jToxKit,n),"function"==typeof define&&define.amd&&define(n))}();
